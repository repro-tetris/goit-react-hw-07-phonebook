(this["webpackJsonpgoit-react-hw-06-phonebook"]=this["webpackJsonpgoit-react-hw-06-phonebook"]||[]).push([[0],{26:function(t,e,n){},37:function(t,e,n){"use strict";n.r(e);var c,r=n(0),a=n.n(r),o=n(14),i=n.n(o),u=(n(26),n(11)),s=n(8),d=n(10),b=d.a.label(c||(c=Object(s.a)(['\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n  + input[type="submit"] {\n    cursor: pointer;\n    &:hover {\n      background-color: aquamarine;\n    }\n  }\n']))),j=n(17),l=n(6),O=Object(j.a)({reducerPath:"contactsReducer",baseQuery:Object(l.d)({baseUrl:"https://616d0dc037f997001745d805.mockapi.io/contacts"}),tagTypes:["contacts"],endpoints:function(t){return{getContacts:t.query({query:function(){return"/contacts/"},providesTags:["contacts"]}),addContact:t.mutation({query:function(t){return{url:"/contacts/",method:"POST",body:t,providesTags:["contacts"]}},invalidatesTags:["contacts"]}),delContact:t.mutation({query:function(t){return{url:"/contacts/".concat(t),method:"DELETE",providesTags:["contacts"]}},invalidatesTags:["contacts"]})}}}),f=O.useGetContactsQuery,h=O.useDelContactMutation,m=O.useAddContactMutation,p=n(2);var v,x=function(){var t=Object(r.useState)(""),e=Object(u.a)(t,2),n=e[0],c=e[1],a=Object(r.useState)(""),o=Object(u.a)(a,2),i=o[0],s=o[1],d=m(),j=Object(u.a)(d,1)[0],l=function(t){var e=t.target,n=e.name,r=e.value;"name"===n?c(r):s(r)},O=function(){c(""),s("")};return Object(p.jsxs)("form",{onSubmit:function(t){t.preventDefault(),j({name:n,number:i}),O()},children:[Object(p.jsxs)(b,{children:["Name",Object(p.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0,onChange:l,value:n})]}),Object(p.jsxs)(b,{children:["Number",Object(p.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043a\u0440\u0443\u0433\u043b\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",required:!0,onChange:l,value:i})]}),Object(p.jsx)("input",{type:"submit",value:"Add contact"})]})},g=n(4),y=d.a.label(v||(v=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),C=n(1),k=Object(C.createAction)("contact/changeFilter");var w,A=function(){var t=Object(g.e)((function(t){return t.contacts.filter})),e=Object(g.d)();return Object(p.jsxs)(y,{children:["Find contacts by name",Object(p.jsx)("input",{name:"filter",value:t,onChange:function(t){return e(k(t.target.value.toLowerCase()))}})]})},T=d.a.li(w||(w=Object(s.a)(["\n  display: flex;\n  justify-content: space-between;\n  button {\n    cursor: pointer;\n    &:hover {\n      background-color: tomato;\n    }\n  }\n"])));var q=function(t){var e=t.contact,n=e.name,c=e.number,r=t.onDelete;return Object(p.jsxs)(T,{children:[n,": ",c,Object(p.jsx)("button",{onClick:r,children:"delete"})]})},S=function(t,e){return t?e.filter((function(e){return e.name.toLowerCase().includes(t)})):e},D=function(){var t=Object(g.e)((function(t){return t.contacts.filter})),e=f(),n=e.data,c=void 0===n?[]:n,r=e.isError,a=e.error,o=h(),i=Object(u.a)(o,1)[0],s=S(t,c);return r?Object(p.jsxs)("div",{children:["An error has occurred! ",a.data]}):Object(p.jsx)("div",{children:Object(p.jsx)("ul",{children:s.map((function(t){return Object(p.jsx)(q,{contact:t,onDelete:function(){return i(t.id)}},t.id)}))})})};function E(){return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Phonebook"}),Object(p.jsx)(x,{}),Object(p.jsx)("h2",{children:"Contacts"}),Object(p.jsx)(A,{}),Object(p.jsx)(D,{})]})}var z=n(20),L=n(9),M=n(19),P=n(5),J=Object(C.createReducer)("",Object(L.a)({},k,(function(t,e){return e.payload}))),R=Object(P.combineReducers)({filter:J}),Z=Object(C.configureStore)({reducer:Object(L.a)({contacts:R},O.reducerPath,O.reducer),middleware:function(t){return[].concat(Object(z.a)(t()),[O.middleware])},devTools:!1});Object(M.setupListeners)(Z.dispatch);var B=Z;i.a.render(Object(p.jsx)(g.a,{store:B,children:Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(E,{})})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.7e3e867a.chunk.js.map