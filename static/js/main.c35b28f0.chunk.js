(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{26:function(t,e,n){},37:function(t,e,n){"use strict";n.r(e);var c,r=n(0),a=n.n(r),o=n(14),i=n.n(o),s=(n(26),n(11)),u=n(8),d=n(10),b=d.a.label(c||(c=Object(u.a)(['\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n  + input[type="submit"] {\n    cursor: pointer;\n    &:hover {\n      background-color: aquamarine;\n    }\n  }\n']))),j=n(17),l=n(6),O=Object(j.a)({reducerPath:"contactsReducer",baseQuery:Object(l.d)({baseUrl:"https://616d0dc037f997001745d805.mockapi.io/contacts"}),tagTypes:["contacts"],endpoints:function(t){return{getContacts:t.query({query:function(){return"/contacts/"},providesTags:["contacts"]}),addContact:t.mutation({query:function(t){return{url:"/contacts/",method:"POST",body:t,providesTags:["contacts"]}},invalidatesTags:["contacts"]}),delContact:t.mutation({query:function(t){return{url:"/contacts/".concat(t),method:"DELETE",providesTags:["contacts"]}},invalidatesTags:["contacts"]})}}}),h=O.useGetContactsQuery,f=O.useDelContactMutation,p=O.useAddContactMutation,m=n(2);var x,v=function(){var t=Object(r.useState)(""),e=Object(s.a)(t,2),n=e[0],c=e[1],a=Object(r.useState)(""),o=Object(s.a)(a,2),i=o[0],u=o[1],d=p(),j=Object(s.a)(d,2),l=j[0],O=j[1].isLoading,h=function(t){var e=t.target,n=e.name,r=e.value;"name"===n?c(r):u(r)},f=function(){c(""),u("")};return Object(m.jsxs)("form",{onSubmit:function(t){t.preventDefault(),l({name:n,number:i}),f()},children:[Object(m.jsxs)(b,{children:["Name",Object(m.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0,onChange:h,value:n})]}),Object(m.jsxs)(b,{children:["Number",Object(m.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043a\u0440\u0443\u0433\u043b\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",required:!0,onChange:h,value:i})]}),Object(m.jsx)("input",{disabled:O,type:"submit",value:O?"Adding contact...":"Add contact"})]})},g=n(4),y=d.a.label(x||(x=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),C=n(1),A=Object(C.createAction)("contact/changeFilter");var k,w=function(){var t=Object(g.e)((function(t){return t.filter})),e=Object(g.d)();return Object(m.jsxs)(y,{children:["Find contacts by name",Object(m.jsx)("input",{name:"filter",value:t,onChange:function(t){return e(A(t.target.value.toLowerCase()))}})]})},T=d.a.li(k||(k=Object(u.a)(["\n  display: flex;\n  justify-content: space-between;\n  button {\n    cursor: pointer;\n    &:hover {\n      background-color: tomato;\n    }\n  }\n"])));var q=function(t){var e=t.contact,n=e.id,c=e.name,r=e.number,a=f(),o=Object(s.a)(a,2),i=o[0],u=o[1].isLoading;return Object(m.jsxs)(T,{children:[c,": ",r,Object(m.jsxs)("button",{onClick:function(){return i(n)},disabled:u,children:[u?"deleting...":"delete"," "]})]})},L=function(t,e){return t?e.filter((function(e){return e.name.toLowerCase().includes(t)})):e},S=function(){var t=Object(g.e)((function(t){return t.filter})),e=h(),n=e.data,c=void 0===n?[]:n,r=e.isError,a=e.error,o=e.isFetching,i=L(t,c);return r?Object(m.jsxs)("div",{children:["An error has occurred! ",a.data]}):Object(m.jsxs)("div",{children:[o&&Object(m.jsx)("p",{children:"Loading..."}),Object(m.jsx)("ul",{children:i.map((function(t){return Object(m.jsx)(q,{contact:t},t.id)}))})]})};function E(){return Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:"Phonebook"}),Object(m.jsx)(v,{}),Object(m.jsx)("h2",{children:"Contacts"}),Object(m.jsx)(w,{}),Object(m.jsx)(S,{})]})}var z=n(20),M=n(9),P=n(19),D=Object(C.createReducer)("",Object(M.a)({},A,(function(t,e){return e.payload}))),F=Object(C.configureStore)({reducer:Object(M.a)({filter:D},O.reducerPath,O.reducer),middleware:function(t){return[].concat(Object(z.a)(t()),[O.middleware])},devTools:!1});Object(P.setupListeners)(F.dispatch);var J=F;i.a.render(Object(m.jsx)(g.a,{store:J,children:Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(E,{})})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.c35b28f0.chunk.js.map